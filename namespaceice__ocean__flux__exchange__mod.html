<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FMS Coupler: ice_ocean_flux_exchange_mod Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FMS Coupler
   &#160;<span id="projectnumber">2022.03</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ice_ocean_flux_exchange_mod Module Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a63be7a22389a38bfd7f7e8aafc2f81d3"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a63be7a22389a38bfd7f7e8aafc2f81d3">ice_ocean_flux_exchange_init</a> (Time, Ice, Ocean, Ocean_state, ice_ocean_boundary, ocean_ice_boundary, Dt_cpl_in, debug_stocks_in, do_area_weighted_flux_in, ex_gas_fields_ice, ex_gas_fluxes, do_ocean, slow_ice_ocean_pelist_in)</td></tr>
<tr class="separator:a63be7a22389a38bfd7f7e8aafc2f81d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab37a2812f0b5b2b91b9a15d75f3cf628"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#ab37a2812f0b5b2b91b9a15d75f3cf628">flux_ice_to_ocean</a> (Time, Ice, Ocean, Ice_Ocean_Boundary)</td></tr>
<tr class="separator:ab37a2812f0b5b2b91b9a15d75f3cf628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f894795596097d716f953bbfdb9dc80"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a1f894795596097d716f953bbfdb9dc80">flux_ice_to_ocean_finish</a> (Time, Ice_Ocean_Boundary)</td></tr>
<tr class="memdesc:a1f894795596097d716f953bbfdb9dc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">flux_ice_to_ocean_finish carrries out a final set of tasks that should only occur on the ocean processors, including data override and perhaps saving diagnostics.  <a href="namespaceice__ocean__flux__exchange__mod.html#a1f894795596097d716f953bbfdb9dc80">More...</a><br /></td></tr>
<tr class="separator:a1f894795596097d716f953bbfdb9dc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7713aa59bd9acc619ef9616ac522de4b"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a7713aa59bd9acc619ef9616ac522de4b">flux_ocean_to_ice</a> (Time, Ocean, Ice, Ocean_Ice_Boundary)</td></tr>
<tr class="memdesc:a7713aa59bd9acc619ef9616ac522de4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Takes the ocean model state and interpolates it onto the bottom of the ice.  <a href="namespaceice__ocean__flux__exchange__mod.html#a7713aa59bd9acc619ef9616ac522de4b">More...</a><br /></td></tr>
<tr class="separator:a7713aa59bd9acc619ef9616ac522de4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af0c159f5b00bd98d7f8339761df29e"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a2af0c159f5b00bd98d7f8339761df29e">flux_ocean_to_ice_finish</a> (Time, Ice, Ocean_Ice_Boundary)</td></tr>
<tr class="memdesc:a2af0c159f5b00bd98d7f8339761df29e"><td class="mdescLeft">&#160;</td><td class="mdescRight">flux_ocean_to_ice_finish carrries out a final set of tasks that should only occur on the slow-ice processors, including data override and perhaps saving diagnostics.  <a href="namespaceice__ocean__flux__exchange__mod.html#a2af0c159f5b00bd98d7f8339761df29e">More...</a><br /></td></tr>
<tr class="separator:a2af0c159f5b00bd98d7f8339761df29e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d12dcdb5b25d4a1bb38935360cceab"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#ac7d12dcdb5b25d4a1bb38935360cceab">flux_ice_to_ocean_stocks</a> (Ice)</td></tr>
<tr class="memdesc:ac7d12dcdb5b25d4a1bb38935360cceab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates Ice and Ocean stocks.  <a href="namespaceice__ocean__flux__exchange__mod.html#ac7d12dcdb5b25d4a1bb38935360cceab">More...</a><br /></td></tr>
<tr class="separator:ac7d12dcdb5b25d4a1bb38935360cceab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5daa11e6f312156be99d617a705bae8"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#ac5daa11e6f312156be99d617a705bae8">flux_ocean_from_ice_stocks</a> (ocean_state, Ocean, Ice_Ocean_boundary)</td></tr>
<tr class="memdesc:ac5daa11e6f312156be99d617a705bae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates Ocean stocks due to input that the Ocean model gets.  <a href="namespaceice__ocean__flux__exchange__mod.html#ac5daa11e6f312156be99d617a705bae8">More...</a><br /></td></tr>
<tr class="separator:ac5daa11e6f312156be99d617a705bae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a051fd38cfb62a7fa0b9093d39a3d1a94"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a051fd38cfb62a7fa0b9093d39a3d1a94">flux_ice_to_ocean_redistribute</a> (ice, ocean, ice_data, ocn_bnd_data, type, do_area_weighted)</td></tr>
<tr class="memdesc:a051fd38cfb62a7fa0b9093d39a3d1a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a globally conservative flux redistribution across ICE/OCN. Assumes that the ice/ocn grids are the same. If ocean is present, then assume different mpp domans and redistribute.  <a href="namespaceice__ocean__flux__exchange__mod.html#a051fd38cfb62a7fa0b9093d39a3d1a94">More...</a><br /></td></tr>
<tr class="separator:a051fd38cfb62a7fa0b9093d39a3d1a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da352681654a7c70e1c929092357c76"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a1da352681654a7c70e1c929092357c76">divide_by_area</a> (data, area)</td></tr>
<tr class="memdesc:a1da352681654a7c70e1c929092357c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Divide data by area while avoiding zero area elements.  <a href="namespaceice__ocean__flux__exchange__mod.html#a1da352681654a7c70e1c929092357c76">More...</a><br /></td></tr>
<tr class="separator:a1da352681654a7c70e1c929092357c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82490086151d4ed5045fe1e9073163ba"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a82490086151d4ed5045fe1e9073163ba">check_flux_conservation</a> (Ice, Ocean, Ice_Ocean_Boundary)</td></tr>
<tr class="memdesc:a82490086151d4ed5045fe1e9073163ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check flux conservation for routine flux_ice_to_ocean_redistribute when do_area_weighted_flux = false and true.  <a href="namespaceice__ocean__flux__exchange__mod.html#a82490086151d4ed5045fe1e9073163ba">More...</a><br /></td></tr>
<tr class="separator:a82490086151d4ed5045fe1e9073163ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aef153e9e45815d4477bf87520c57a1ba"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#aef153e9e45815d4477bf87520c57a1ba">regrid</a> =1</td></tr>
<tr class="separator:aef153e9e45815d4477bf87520c57a1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88b8a5285095c340dca8950527c4ef22"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a88b8a5285095c340dca8950527c4ef22">redist</a> =2</td></tr>
<tr class="separator:a88b8a5285095c340dca8950527c4ef22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3ce03bec276bc3121f63ea43cca7ea"><td class="memItemLeft" align="right" valign="top">integer, parameter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#acb3ce03bec276bc3121f63ea43cca7ea">direct</a> =3</td></tr>
<tr class="separator:acb3ce03bec276bc3121f63ea43cca7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09c87ee132e2cfd87a1ecda83787b5bd"><td class="memItemLeft" align="right" valign="top">logical&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a09c87ee132e2cfd87a1ecda83787b5bd">debug_stocks</a> = .false.</td></tr>
<tr class="separator:a09c87ee132e2cfd87a1ecda83787b5bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14e7f4b057e393ad0b805968737590bb"><td class="memItemLeft" align="right" valign="top">logical&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a14e7f4b057e393ad0b805968737590bb">do_area_weighted_flux</a> = .false.</td></tr>
<tr class="separator:a14e7f4b057e393ad0b805968737590bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5431df541452ace1e68a6dc62c8efa4a"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a5431df541452ace1e68a6dc62c8efa4a">cplocnclock</a></td></tr>
<tr class="separator:a5431df541452ace1e68a6dc62c8efa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6869bc407ceb33d261653edd09ea11"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#aee6869bc407ceb33d261653edd09ea11">fluxoceaniceclock</a></td></tr>
<tr class="separator:aee6869bc407ceb33d261653edd09ea11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ba54588c93b81c1cc0264d121bd380a"><td class="memItemLeft" align="right" valign="top">integer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a9ba54588c93b81c1cc0264d121bd380a">fluxiceoceanclock</a></td></tr>
<tr class="separator:a9ba54588c93b81c1cc0264d121bd380a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcfc1fa47976b72f3dc87ca755564ef5"><td class="memItemLeft" align="right" valign="top">real&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#adcfc1fa47976b72f3dc87ca755564ef5">dt_cpl</a></td></tr>
<tr class="separator:adcfc1fa47976b72f3dc87ca755564ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7a0952e69375784c15b6436be4c693"><td class="memItemLeft" align="right" valign="top">integer, dimension(:), allocatable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceice__ocean__flux__exchange__mod.html#a3b7a0952e69375784c15b6436be4c693">slow_ice_ocean_pelist</a></td></tr>
<tr class="separator:a3b7a0952e69375784c15b6436be4c693"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a82490086151d4ed5045fe1e9073163ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82490086151d4ed5045fe1e9073163ba">&#9670;&nbsp;</a></span>check_flux_conservation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ice_ocean_flux_exchange_mod::check_flux_conservation </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>Ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ice_ocean_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ice_Ocean_Boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check flux conservation for routine flux_ice_to_ocean_redistribute when do_area_weighted_flux = false and true. </p>

</div>
</div>
<a id="a1da352681654a7c70e1c929092357c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1da352681654a7c70e1c929092357c76">&#9670;&nbsp;</a></span>divide_by_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ice_ocean_flux_exchange_mod::divide_by_area </td>
          <td>(</td>
          <td class="paramtype">real, dimension(:,:), intent(inout)&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Divide data by area while avoiding zero area elements. </p>

</div>
</div>
<a id="ab37a2812f0b5b2b91b9a15d75f3cf628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab37a2812f0b5b2b91b9a15d75f3cf628">&#9670;&nbsp;</a></span>flux_ice_to_ocean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ice_to_ocean </td>
          <td>(</td>
          <td class="paramtype">type(fmstime_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(in)&#160;</td>
          <td class="paramname"><em>Ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ice_ocean_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ice_Ocean_Boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ice</td><td>A derived data type to specify ice boundary data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ocean</td><td>A derived data type to specify ocean boundary data</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ice_ocean_boundary</td><td>A derived data type to specify properties and fluxes passed from ice to ocean </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1f894795596097d716f953bbfdb9dc80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f894795596097d716f953bbfdb9dc80">&#9670;&nbsp;</a></span>flux_ice_to_ocean_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ice_to_ocean_finish </td>
          <td>(</td>
          <td class="paramtype">type(fmstime_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ice_ocean_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ice_Ocean_Boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flux_ice_to_ocean_finish carrries out a final set of tasks that should only occur on the ocean processors, including data override and perhaps saving diagnostics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ice_ocean_boundary</td><td>A derived data type to specify properties and fluxes passed from ice to ocean </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a051fd38cfb62a7fa0b9093d39a3d1a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a051fd38cfb62a7fa0b9093d39a3d1a94">&#9670;&nbsp;</a></span>flux_ice_to_ocean_redistribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ice_ocean_flux_exchange_mod::flux_ice_to_ocean_redistribute </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(in)&#160;</td>
          <td class="paramname"><em>ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(in)&#160;</td>
          <td class="paramname"><em>ice_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, dimension(:,:), intent(out)&#160;</td>
          <td class="paramname"><em>ocn_bnd_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>do_area_weighted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs a globally conservative flux redistribution across ICE/OCN. Assumes that the ice/ocn grids are the same. If ocean is present, then assume different mpp domans and redistribute. </p>
<dl class="section note"><dt>Note</dt><dd>Should be invoked by all PEs </dd></dl>

</div>
</div>
<a id="ac7d12dcdb5b25d4a1bb38935360cceab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d12dcdb5b25d4a1bb38935360cceab">&#9670;&nbsp;</a></span>flux_ice_to_ocean_stocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ice_to_ocean_stocks </td>
          <td>(</td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Ice</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates Ice and Ocean stocks. </p>
<p>Integrate the fluxes over the surface and in time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ice</td><td>A derived data type to specify ice boundary data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac5daa11e6f312156be99d617a705bae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5daa11e6f312156be99d617a705bae8">&#9670;&nbsp;</a></span>flux_ocean_from_ice_stocks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ocean_from_ice_stocks </td>
          <td>(</td>
          <td class="paramtype">type(ocean_state_type), pointer&#160;</td>
          <td class="paramname"><em>ocean_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(in)&#160;</td>
          <td class="paramname"><em>Ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ice_ocean_boundary_type), intent(in)&#160;</td>
          <td class="paramname"><em>Ice_Ocean_boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates Ocean stocks due to input that the Ocean model gets. </p>
<p>This subroutine updates the stocks of Ocean by the amount of input that the Ocean gets from Ice component. Unlike subroutine <a class="el" href="namespaceice__ocean__flux__exchange__mod.html#ac7d12dcdb5b25d4a1bb38935360cceab" title="Updates Ice and Ocean stocks.">flux_ice_to_ocean_stocks()</a> that uses Icefluxes to update the stocks due to the amount of output from Ice this subroutine uses Ice_Ocean_boundaryfluxes to calculate the amount of input to the Ocean. These fluxes are the ones that Ocean model uses internally to calculate its budgets. Hence there should be no difference between this input and what Ocean model internal diagnostics uses. This bypasses the possible mismatch in cell areas between Ice and Ocean in diagnosing the stocks of Ocean and should report a conserving Ocean component regardless of the glitches in fluxes.</p>
<p>The use of this subroutine in conjunction with subroutine <a class="el" href="namespaceice__ocean__flux__exchange__mod.html#ac7d12dcdb5b25d4a1bb38935360cceab" title="Updates Ice and Ocean stocks.">flux_ice_to_ocean_stocks()</a> will also allow to directly diagnose the amount "stocks lost in exchange" between Ice and Ocean </p>

</div>
</div>
<a id="a7713aa59bd9acc619ef9616ac522de4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7713aa59bd9acc619ef9616ac522de4b">&#9670;&nbsp;</a></span>flux_ocean_to_ice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ocean_to_ice </td>
          <td>(</td>
          <td class="paramtype">type(fmstime_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(in)&#160;</td>
          <td class="paramname"><em>Ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_ice_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ocean_Ice_Boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Takes the ocean model state and interpolates it onto the bottom of the ice. </p>
<p>The following quantities are transferred from the Ocean to the ocean_ice_boundary_type: </p><pre>
        t_surf = surface temperature (deg K)
        frazil = frazil fluxes since the last coupling step (J/m2)
        u_surf = zonal ocean current/ice motion (m/s)
        v_surf = meridional ocean current/ice motion (m/s)
        v_surf = meridional ocean current/ice motion (m/s)
       sea_lev = sea level used to drive ice accelerations (m)
 </pre><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">FATAL,Ocean_Ice_Boundary%xtype must be DIRECT or REDIST.</td><td>The value of variable xtype of ice_ocean_boundary_type data must be DIRECT or REDIST. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ocean</td><td>A derived data type to specify ocean boundary data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ice</td><td>A derived data type to specify ice boundary data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ocean_ice_boundary</td><td>A derived data type to specify properties and fluxes passed from ocean to ice </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2af0c159f5b00bd98d7f8339761df29e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af0c159f5b00bd98d7f8339761df29e">&#9670;&nbsp;</a></span>flux_ocean_to_ice_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::flux_ocean_to_ice_finish </td>
          <td>(</td>
          <td class="paramtype">type(fmstime_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(in)&#160;</td>
          <td class="paramname"><em>Ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_ice_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ocean_Ice_Boundary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flux_ocean_to_ice_finish carrries out a final set of tasks that should only occur on the slow-ice processors, including data override and perhaps saving diagnostics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>Current time </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ice</td><td>A derived data type to specify ice boundary data </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ocean_ice_boundary</td><td>A derived data type to specify properties and fluxes passed from ocean to ice </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63be7a22389a38bfd7f7e8aafc2f81d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63be7a22389a38bfd7f7e8aafc2f81d3">&#9670;&nbsp;</a></span>ice_ocean_flux_exchange_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ice_ocean_flux_exchange_mod::ice_ocean_flux_exchange_init </td>
          <td>(</td>
          <td class="paramtype">type(fmstime_type), intent(in)&#160;</td>
          <td class="paramname"><em>Time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structice__model__mod_1_1ice__data__type.html">ice_data_type</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>Ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_public_type), intent(inout)&#160;</td>
          <td class="paramname"><em>Ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_state_type), pointer&#160;</td>
          <td class="paramname"><em>Ocean_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ice_ocean_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>ice_ocean_boundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(ocean_ice_boundary_type), intent(inout)&#160;</td>
          <td class="paramname"><em>ocean_ice_boundary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>Dt_cpl_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>debug_stocks_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>do_area_weighted_flux_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(fmscoupler1dbc_type), intent(in)&#160;</td>
          <td class="paramname"><em>ex_gas_fields_ice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(fmscoupler1dbc_type), intent(in)&#160;</td>
          <td class="paramname"><em>ex_gas_fluxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in)&#160;</td>
          <td class="paramname"><em>do_ocean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(in)&#160;</td>
          <td class="paramname"><em>slow_ice_ocean_pelist_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>The model's current time</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ice</td><td>A derived data type to specify ice boundary data</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ocean</td><td>A derived data type to specify ocean boundary data</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ice_ocean_boundary</td><td>A derived data type to specify properties and fluxes passed from ice to ocean</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ocean_ice_boundary</td><td>A derived data type to specify properties and fluxes passed from ocean to ice </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5431df541452ace1e68a6dc62c8efa4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5431df541452ace1e68a6dc62c8efa4a">&#9670;&nbsp;</a></span>cplocnclock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer ice_ocean_flux_exchange_mod::cplocnclock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a09c87ee132e2cfd87a1ecda83787b5bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09c87ee132e2cfd87a1ecda83787b5bd">&#9670;&nbsp;</a></span>debug_stocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical ice_ocean_flux_exchange_mod::debug_stocks = .false.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acb3ce03bec276bc3121f63ea43cca7ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb3ce03bec276bc3121f63ea43cca7ea">&#9670;&nbsp;</a></span>direct</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer, parameter ice_ocean_flux_exchange_mod::direct =3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a14e7f4b057e393ad0b805968737590bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14e7f4b057e393ad0b805968737590bb">&#9670;&nbsp;</a></span>do_area_weighted_flux</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">logical ice_ocean_flux_exchange_mod::do_area_weighted_flux = .false.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adcfc1fa47976b72f3dc87ca755564ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcfc1fa47976b72f3dc87ca755564ef5">&#9670;&nbsp;</a></span>dt_cpl</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">real ice_ocean_flux_exchange_mod::dt_cpl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9ba54588c93b81c1cc0264d121bd380a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba54588c93b81c1cc0264d121bd380a">&#9670;&nbsp;</a></span>fluxiceoceanclock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer ice_ocean_flux_exchange_mod::fluxiceoceanclock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aee6869bc407ceb33d261653edd09ea11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6869bc407ceb33d261653edd09ea11">&#9670;&nbsp;</a></span>fluxoceaniceclock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer ice_ocean_flux_exchange_mod::fluxoceaniceclock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a88b8a5285095c340dca8950527c4ef22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88b8a5285095c340dca8950527c4ef22">&#9670;&nbsp;</a></span>redist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer, parameter ice_ocean_flux_exchange_mod::redist =2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aef153e9e45815d4477bf87520c57a1ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef153e9e45815d4477bf87520c57a1ba">&#9670;&nbsp;</a></span>regrid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer, parameter ice_ocean_flux_exchange_mod::regrid =1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3b7a0952e69375784c15b6436be4c693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7a0952e69375784c15b6436be4c693">&#9670;&nbsp;</a></span>slow_ice_ocean_pelist</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">integer, dimension(:), allocatable ice_ocean_flux_exchange_mod::slow_ice_ocean_pelist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 14 2024 17:46:10 for FMS Coupler by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
